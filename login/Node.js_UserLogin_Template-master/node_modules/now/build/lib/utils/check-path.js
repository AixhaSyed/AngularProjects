// Native
const os = require('os')
const path = require('path')

const checkPath = dir => __async(function*(){
  if (!dir) {
    return
  }

  const home = os.homedir()
  let location

  const paths = {
    home,
    desktop: path.join(home, 'Desktop'),
    downloads: path.join(home, 'Downloads')
  }

  for (const locationPath in paths) {
    if (!{}.hasOwnProperty.call(paths, locationPath)) {
      continue
    }

    if (dir === paths[locationPath]) {
      location = locationPath
    }
  }

  if (!location) {
    return
  }

  let locationName

  switch (location) {
    case 'home':
      locationName = 'user directory'
      break
    case 'downloads':
      locationName = 'downloads directory'
      break
    default:
      locationName = location
  }

  throw new Error(`You're trying to deploy your ${locationName}.`)
}())

module.exports = checkPath

function __async(g){return new Promise(function(s,j){function c(a,x){try{var r=g[x?"throw":"next"](a)}catch(e){j(e);return}r.done?s(r.value):Promise.resolve(r.value).then(c,d)}function d(e){c(e,1)}c()})}
